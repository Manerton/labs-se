org 2000
result: 
	memint 4		; 2000-2015
result2: 
	memint 2		; 2016-2019
org 1000				; устанавливаю адрес на 1000
DataSize: equ 4
value1: int 158 			; 1000-1003 (так как 4 байта)
value2: int 13  			; 1004-1007
value3: int 55 			; 1008-1011
int 195495				; 1012-1015
start: LOAD value1				; число 158 по адресу 1000 в стек (в стеке: 158)
LOAD value2				; число 13 по адресу 1004 в стек (в стеке: 13 158)
LOADI -343				; число -343 в стек  (непосредственная адресация целого числа, в стеке: -343 13 158)
LOADU 43500				; число 43500 в стек (непосредственная адресация беззнакового числа, в стеке: 43500 -343 13 158)
LOAD value3 + DataSize	; число 195495 по адресу 1012 в стек (в стеке: 195495 43500 -343 13 158)
LOADU value3 			; загружаю адрес 1008 в стек (непосредствен. адресация беззнак. числа, в стеке: 1008 195495 43500 -343 13 158)
XCHG 2					; меняю в стеке местами ST[SP] = 1008 и ST[SP-2] = 43500 (в стеке: 43500 195495 1008 -343 13 158)
MOV 4					; перемещаю значение 43500 на элемент ST[SP-4] = 13 (в стеке: 43500 195495 1008 -343 43500 158)
SAVEP result			; сохраняю значение 43500 из вершины (и удаляю вершину) по адресу 2000 (в стеке: 195495 1008 -343 43500 158)
SAVEP result + 4			; сохраняю значение 195495 из вершины (и удаляю вершину) по адресу 2004 (в стеке: 1008 -343 43500 158)
DEREF result + 4 + DataSize	; получаю значение по адресу, лежащему в вершине стека и сохраняю его по адресу 2008 (в стеке: -343 43500 158)
SAVE result + (DataSize*3) 	; сохраняю -343 из вершины по адресу 2012, но не удаляю вершину (в стеке: -343 43500 158)
SAVEP result2				; тоже самое, но теперь вершину удаляю (в стеке: 43500 158)
XCHG 1					; меняю в стеке местами два оставшихся элемента (в стеке: 158 43500)
OUTMEMU result			; вывод сохраненных значений по адресу 2000 		(ожидаемый результат: 43500)
OUTMEMU result+DataSize	; вывод сохраненных значений по адресу 2004 		(ожидаемый результат: 195495)
OUTMEMU result+DataSize*2		; вывод сохраненных значений по адресу 2008 		(ожидаемый результат: 55)
OUTMEMI result+DataSize*3		; вывод сохраненных значений по адресу 2012 		(ожидаемый результат: -343)
OUTMEMI result2		; вывод сохраненных значений по адресу 2016 		(ожидаемый результат: -343)
OUTSTU			; вывод значения из вершины 					    (ожидаемый результат: 158)
SAVEP result2+4	; сохраняю 158 по адресу 2020
OUTSTU			; вывод значения из вершины 					    (ожидаемый результат: 43500)
END start